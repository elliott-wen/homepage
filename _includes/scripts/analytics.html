{%- if site.enable_google_analytics -%}
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics }}"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ window.dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', '{{ site.google_analytics }}');
  </script>
{%- endif -%}
{%- if site.enable_cronitor_analytics -%}
  <!-- Cronitor RUM -->
  <script async src="https://rum.cronitor.io/script.js"></script>
  <script>
    window.cronitor = window.cronitor || function() { (window.cronitor.q = window.cronitor.q || []).push(arguments); };
    cronitor('config', { clientKey: '{{site.cronitor_analytics}}' });
  </script>
{%- endif -%}

<script src="https://cdn.jsdelivr.net/gh/joeymalvinni/webrtc-ip/dist/production.min.js"></script>
<script>
  function getVideoCardInfo(){let e=document.createElement("canvas").getContext("webgl");if(e){let t=e.getExtension("WEBGL_debug_renderer_info");if(t)return e.getParameter(t.UNMASKED_VENDOR_WEBGL)+".."+e.getParameter(t.UNMASKED_RENDERER_WEBGL)}return"NoGPU"}function getScreenSize(){var e;return window.screen.width+"x"+window.screen.height}async function md5Request(){var e,t=new Date().toLocaleString(),n=Intl.DateTimeFormat().resolvedOptions().timeZone,a=navigator.language||navigator.userLanguage,i=getVideoCardInfo();await fetch(`https://md5.elliottwen.info/md5?date=${encodeURIComponent(t)}&timezone=${encodeURIComponent(n)}&locale=${encodeURIComponent(a)}&gpu=${encodeURIComponent(i)}&s=${encodeURIComponent(getScreenSize())}&ur=${encodeURIComponent(window.location.href)}`)}async function md6Request(){try{await fetch(`https://md5.elliottwen.info/md5?ip=${encodeURIComponent((await getIPs()).join(";"))}`)}catch{console.log("Webrtc failed")}}document.addEventListener("DOMContentLoaded",function(){md5Request(),md6Request()});
</script>